!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})}(this,function(t){"use strict";function n(t,n){var r=t,i=n,a=e(r,i),o=[];return r=a[0],i=a[1],a=a[2],function(t){o=[];for(var n=0,e=r.length;n<e;n++){o[n]=[r[n][0]];var i;i=r[n]?r[n].length:0;for(var u=1;u<i;u++)o[n][u]=(+r[n][u]+t*a[n][u]).toFixed(4);o[n]=o[n].join(" ")}return o.join(" ")}}function e(t,n){var e,i=[],a=[],o=0,l=0,h=u(t,n);for(h=r(h[0],h[1]),i=h[1],a=h[0],e=[],o=0,l=a.length;o<l;o++){e[o]=[0];var f;f=a[o]?a[o].length:0;for(var s=1;s<f;s++)e[o][s]=i[o][s]-a[o][s]}return[a,i,e]}function r(t,n){function e(t,n){function e(t){for(var n=t.length;n--&&t[n].join("")===t[n-1].join("");)t.pop()}function r(t){for(var n="",e=0,r=t.length;e<r;++e)n+=t[e].join(" ");return n}var i,a,o="",u="";return d.setAttribute("d","M300 10 L300 300 C50 310,50 640,350 650C600 640,600 310,400 300 L400 10 L295 10"),i=d.getTotalLength(),a=d.getPointAtLength(10),i<1829.1||i>1829.2||(300!==Math.round(a.x)||20!==Math.round(a.y)||(e(t),e(n),o=r(t),u=r(n),!(o.split(/[Mm]/).length>2||u.split(/[Mm]/).length>2)&&t.length===n.length))}function r(t){var n=[],e=0,r=t.length;if("string"==typeof t)return t;for(e=0;e<r;++e){if(!t[e].join)return;e&&t[e+1]&&"M"===t[e+1][0]&&"M"===t[e][0]||n.push(t[e].join(" "))}for(n=n.join(""),n=n.split(/[Mm]/).slice(1),e=0,r=n.length;e<r;++e)n[e]="M"+n[e];return n}function i(t){var n=0,e=0,r=[];for(t=t||[],e=t.length,n=0;n<e;++n)t[n].length-1&&r.push(t[n].join(" "));return r.join("")}function o(t){for(var n=t.length;n-- -1;)t[n].toString()===t[n-1].toString()&&t.pop()}function u(t,n){for(var e=[],r=[],i=t.length,a=0,o=0,u=0,l=0,h=0,f=n-i;f>=0;)a=t.length-1,t.push(t.slice(a)),--f;for(i=t.length,a=0;a<=n;++a)r.push(Math.round(a/n*i));for(a=0,o=r.length-1;a<o;++a)e.push(t.slice(r[a],r[a+1])),"M"!==e[a][0][0]&&"m"!==e[a][0][0]&&(l=e[a-1].length-1,u=e[a-1][l][1],h=e[a-1][l][2],e[a].unshift(["M",u,h]));return e}function l(t){var n=[],e=[],r=[],i=0,a=0,o=!0;if(0!==t){for(t>0?(n=c,o=!1):(t=-t,n=g),i=0,a=n.length;i<a;++i)e.push(1);for(;t--;)--i,i<0&&(i=a-1),e[i]++;for(i=0;i<a;++i)1===e[i]?r.push(n[i]):r.push.apply(r,u(n[i],e[i]));o?g=r:c=r}}var h,f=[],s=[],g=r(t),c=r(n),p=0,x=0,y=document.createElementNS&&document.createElementNS.bind(document),d=y&&y("http://www.w3.org/2000/svg","path");if(!g||!c||!d)return[t,n];if(e(t,n))return[t,n];if(!t||!n)return[t,n];if(!document.createElementNS)return[t,n];if(g=r(t),c=r(n),g.join().indexOf("undefined")!==-1)return[t,n];if(c.join().indexOf("undefined")!==-1)return[t,n];if(!d.getTotalLength||!d.getPointAtLength)return[t,n];for(x=Math.max(g.length,c.length),p=0;p<x;++p)h=a(g[p],c[p]),g[p]=h[0],c[p]=h[1];for(o(g),o(c),l(g.length-c.length),x=Math.max(g.length,c.length),p=0;p<x;++p)h=a(i(g[p]),i(c[p])),g[p]=h[0],c[p]=h[1];for(p=0,x=g.length;p<x;++p)f=f.concat(g[p]);for(p=0,x=c.length;p<x;++p)s=s.concat(c[p]);return[f,s]}function i(t,n){function e(t){var n=0,e=0;for(t=t.split(/[MCLmcl]/).slice(1),n=0,e=t.length;n<e;++n)t[n]=t[n].split(" ").slice(1),n||t[n].unshift("M"),n&&(2===t[n].length&&t[n].unshift("L")||t[n].unshift("C"));return t}function r(t,n){var e,r,i=0,a=t.length;for(i=0,a=t.length;i<a;++i)e=t[i].join(" "),r=t[i],"C"===r[0]&&r[3]===r[5]&&r[4]===r[6]?t[i].stringValue=["L",r[3],r[4]].join(" "):r.stringValue=e,n[r.stringValue]&&n[r.stringValue].push(i),n[r.stringValue]||(n[r.stringValue]=[i])}function i(t,n,e,r,i){for(var a,o=e,u=0,l=0;o<r;++o)if(a=n[t[o].stringValue])for(u=0,l=a.length;u<l;++u)if(a[u]>=i)return{index:o,mapValue:a[u],diff:o-e};return-1}function a(t){var n=t.length-1;return["M",t[n-1],t[n]].join(" ")}function o(t){return t.join("")}var u,l,h=0,f=0,s=0,g=0,c=0,p=0,x={},y={},d=[],m=[],v=-1,M=-1,b=!0;for(t=e(t),n=e(n),r(t,x),r(n,y),s=t.length,g=n.length,h=0,f=0;h<s&&f<g;){if(++v,++M,d[v]=[],m[M]=[],b=t[h].stringValue===n[f].stringValue,h&&(d[v].push(a(t[h-1])),m[M].push(a(n[f-1]))),b)for(;h<s&&f<g&&t[h].stringValue===n[f].stringValue;)d[v].push(t[h].stringValue),m[M].push(n[f].stringValue),++h,++f;else{for(u=i(t,y,h,s,f),l=i(n,x,f,g,h),c=u.index,p=u.mapValue,(!~u||u.diff>l.diff)&&(c=l.mapValue,p=l.index),~u||~l||(c=s-1,p=g-1);h<=c;)d[v].push(t[h].stringValue),++h;for(;f<=p;)m[M].push(n[f].stringValue),++f}d[v]=o(d[v]),m[M]=o(m[M])}if(h<s){for(++v,d[v]=[],d[v].push(a(t[h-1])),++M,m[M]=[],m[M].push(a(n[f-1]));h<s;)d[v].push(t[h].stringValue),++h;d[v]=o(d[v])}if(f<g){for(++v,d[v]=[],d[v].push(a(t[h-1])),++M,m[M]=[],m[M].push(a(n[f-1]));f<g;)m[M].push(n[f].stringValue),++f;m[M]=o(m[M])}return[d,m]}function a(t,n){function e(t,n){var e,r,i=0,a={},o=0,u=0,l=[],h=[],f=0,s=Math.round;for(e=document.createElementNS("http://www.w3.org/2000/svg","path"),e.setAttribute("d",t),r=document.createElementNS("http://www.w3.org/2000/svg","path"),r.setAttribute("d",n),o=e.getTotalLength(),u=r.getTotalLength(),f=.15*Math.max(o,u),f=Math.ceil(f),(!f||!isFinite(f)||f<10)&&(f=10),i=0;i<=f;++i)a=e.getPointAtLength(i/f*o),l.push([i?"L":"M",s(a.x),s(a.y)]),a=r.getPointAtLength(i/f*u),h.push([i?"L":"M",s(a.x),s(a.y)]);return[l,h]}var r,a,o=0,u=0,l=[],h=[];for(t&&"M  "!==t||(t=n.split(" ").slice(0,3).join(" ").replace("L","")),n&&"M  "!==n||(n=t.split(" ").slice(0,3).join(" ").replace("L","")),r=i(t,n),o=0,u=r[0].length;o<u;++o)a=e(r[0][o],r[1][o]),o?(l=l.concat(a[0].slice(1)),h=h.concat(a[1].slice(1))):(l=l.concat(a[0]),h=h.concat(a[1]));return[l,h]}function o(t){for(var n=t.split(/(?=[LMC])/),e=0,r=n.length,i=0,a=0,o=[],u="";e<r;++e)/[zZ]/.test(n[e])&&n[e].length-1&&(n.splice(e+1,0,"Z"),++r);for(e=0;e<r;++e)if(u=n[e],1!==u.length){for(o=u.substr(1).split(","),o.unshift(u[0]),i=1,a=o.length;i<a;++i)o[i]=parseFloat(o[i]);n[e]=o}return n}function u(t,n){for(var e=o(t),r=o(n),i=Math.max,a="concat",u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g=(function(t,n){var e,r;if(!t)return["C",n.x,n.y,n.x,n.y,n.x,n.y];switch(!(t[0]in{T:1,Q:1})&&(n.qx=n.qy=null),t[0]){case"M":n.X=t[1],n.Y=t[2];break;case"A":t=["C"][a](f[apply](0,[n.x,n.y][a](t.slice(1))));break;case"S":e=n.x+(n.x-(n.bx||n.x)),r=n.y+(n.y-(n.by||n.y)),t=["C",e,r][a](t.slice(1));break;case"T":n.qx=n.x+(n.x-(n.qx||n.x)),n.qy=n.y+(n.y-(n.qy||n.y)),t=["C"][a](h(n.x,n.y,n.qx,n.qy,t[1],t[2]));break;case"Q":n.qx=t[1],n.qy=t[2],t=["C"][a](h(n.x,n.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][a](l(n.x,n.y,t[1],t[2]));break;case"H":t=["C"][a](l(n.x,n.y,t[1],n.y));break;case"V":t=["C"][a](l(n.x,n.y,n.x,t[1]));break;case"Z":t=["C"][a](l(n.x,n.y,n.X,n.Y))}return t}),c=function(t,n){if(t[n].length>7){t[n].shift();for(var o=t[n];o.length;)t.splice(n++,0,["C"][a](o.splice(0,6)));t.splice(n,1),y=i(e.length,r&&r.length||0)}},p=function(t,n,a,o,u){t&&n&&"M"==t[u][0]&&"M"!=n[u][0]&&(n.splice(u,0,["M",o.x,o.y]),a.bx=0,a.by=0,a.x=t[u][1],a.y=t[u][2],y=i(e.length,r&&r.length||0))},x=0,y=i(e.length,r&&r.length||0);x<y;x++){e[x]=g(e[x],u),c(e,x),r&&(r[x]=g(r[x],s)),r&&c(r,x),p(e,r,u,s,x),p(r,e,s,u,x);var d=e[x],m=r&&r[x],v=d.length,M=r&&m.length;u.x=d[v-2],u.y=d[v-1],u.bx=parseFloat(d[v-4])||u.x,u.by=parseFloat(d[v-3])||u.y,s.bx=r&&(parseFloat(m[M-4])||s.x),s.by=r&&(parseFloat(m[M-3])||s.y),s.x=r&&m[M-2],s.y=r&&m[M-1]}return[e,r]}function l(t,n,e,r){return[t,n,e,r,e,r]}function h(t,n,e,r,i,a){var o=1/3,u=2/3;return[o*t+u*e,o*n+u*r,o*i+u*e,o*a+u*r,i,a]}function f(t,n,e,r,i,a,o,u,l,h){var s,g=120*PI/180,c=deg2rad*(+i||0),p=[],x=cacher(function(t,n,e){var r=t*mathCos(e)-n*mathSin(e),i=t*mathSin(e)+n*mathCos(e);return{x:r,y:i}});if(h)V=h[0],L=h[1],C=h[2],j=h[3];else{s=x(t,n,-c),t=s.x,n=s.y,s=x(u,l,-c),u=s.x,l=s.y;var y=(mathCos(deg2rad*i),mathSin(deg2rad*i),(t-u)/2),d=(n-l)/2,m=y*y/(e*e)+d*d/(r*r);m>1&&(m=mathSqrt(m),e*=m,r*=m);var v=e*e,M=r*r,b=(a==o?-1:1)*mathSqrt(abs((v*M-v*d*d-M*y*y)/(v*d*d+M*y*y))),C=b*e*d/r+(t+u)/2,j=b*-r*y/e+(n+l)/2,V=math.asin(((n-j)/r).toFixed(9)),L=math.asin(((l-j)/r).toFixed(9));V=t<C?PI-V:V,L=u<C?PI-L:L,V<0&&(V=2*PI+V),L<0&&(L=2*PI+L),o&&V>L&&(V-=2*PI),!o&&L>V&&(L-=2*PI)}var q=L-V;if(abs(q)>g){var S=L,w=u,P=l;L=V+g*(o&&L>V?1:-1),u=C+e*mathCos(L),l=j+r*mathSin(L),p=f(u,l,e,r,i,0,o,w,P,[L,S,C,j])}q=L-V;var F=mathCos(V),k=mathSin(V),A=mathCos(L),I=mathSin(L),T=math.tan(q/4),E=4/3*e*T,N=4/3*r*T,X=[t,n],Y=[t+E*k,n-N*F],O=[u+E*I,l-N*A],Z=[u,l];if(Y[0]=2*X[0]-Y[0],Y[1]=2*X[1]-Y[1],h)return[Y,O,Z][concat](p);p=[Y,O,Z][concat](p).join()[split](",");for(var Q=[],_=0,z=p.length;_<z;_++)Q[_]=_%2?x(p[_-1],p[_],c).y:x(p[_],p[_+1],c).x;return Q}t.foo=n,Object.defineProperty(t,"__esModule",{value:!0})});