!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){return console.log(a(t,e)),function(t){return""}}function n(t){for(var e=t.split(/(?=[LMC])/),n=0,a=e.length,r=0,i=0,o=[],s="";n<a;++n)/[zZ]/.test(e[n])&&e[n].length-1&&(e.splice(n+1,0,"Z"),++a);for(n=0;n<a;++n)if(s=e[n],1!==s.length){for(o=s.substr(1).split(","),o.unshift(s[0]),r=1,i=o.length;r<i;++r)o[r]=parseFloat(o[r]);e[n]=o}return e}function a(t,e){for(var a=n(t),s=n(e),x=Math.max,l="concat",y={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=(function(t,e){var n,a;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][l](o[apply](0,[e.x,e.y][l](t.slice(1))));break;case"S":n=e.x+(e.x-(e.bx||e.x)),a=e.y+(e.y-(e.by||e.y)),t=["C",n,a][l](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][l](i(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][l](i(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][l](r(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][l](r(e.x,e.y,t[1],e.y));break;case"V":t=["C"][l](r(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][l](r(e.x,e.y,e.X,e.Y))}return t}),f=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)t.splice(e++,0,["C"][l](n.splice(0,6)));t.splice(e,1),p=x(a.length,s&&s.length||0)}},u=function(t,e,n,r,i){t&&e&&"M"==t[i][0]&&"M"!=e[i][0]&&(e.splice(i,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=t[i][1],n.y=t[i][2],p=x(a.length,s&&s.length||0))},b=0,p=x(a.length,s&&s.length||0);b<p;b++){a[b]=h(a[b],y),f(a,b),s&&(s[b]=h(s[b],c)),s&&f(s,b),u(a,s,y,c,b),u(s,a,c,y,b);var m=a[b],d=s&&s[b],g=m.length,C=s&&d.length;y.x=m[g-2],y.y=m[g-1],y.bx=parseFloat(m[g-4])||y.x,y.by=parseFloat(m[g-3])||y.y,c.bx=s&&(parseFloat(d[C-4])||c.x),c.by=s&&(parseFloat(d[C-3])||c.y),c.x=s&&d[C-2],c.y=s&&d[C-1]}return[a,s]}function r(t,e,n,a){return[t,e,n,a,n,a]}function i(t,e,n,a,r,i){var o=1/3,s=2/3;return[o*t+s*n,o*e+s*a,o*r+s*n,o*i+s*a,r,i]}function o(t,e,n,a,r,i,s,x,l,y){var c,h=120*PI/180,f=deg2rad*(+r||0),u=[],b=cacher(function(t,e,n){var a=t*mathCos(n)-e*mathSin(n),r=t*mathSin(n)+e*mathCos(n);return{x:a,y:r}});if(y)k=y[0],P=y[1],v=y[2],S=y[3];else{c=b(t,e,-f),t=c.x,e=c.y,c=b(x,l,-f),x=c.x,l=c.y;var p=(mathCos(deg2rad*r),mathSin(deg2rad*r),(t-x)/2),m=(e-l)/2,d=p*p/(n*n)+m*m/(a*a);d>1&&(d=mathSqrt(d),n*=d,a*=d);var g=n*n,C=a*a,q=(i==s?-1:1)*mathSqrt(abs((g*C-g*m*m-C*p*p)/(g*m*m+C*p*p))),v=q*n*m/a+(t+x)/2,S=q*-a*p/n+(e+l)/2,k=math.asin(((e-S)/a).toFixed(9)),P=math.asin(((l-S)/a).toFixed(9));k=t<v?PI-k:k,P=x<v?PI-P:P,k<0&&(k=2*PI+k),P<0&&(P=2*PI+P),s&&k>P&&(k-=2*PI),!s&&P>k&&(P-=2*PI)}var F=P-k;if(abs(F)>h){var I=P,M=x,X=l;P=k+h*(s&&P>k?1:-1),x=v+n*mathCos(P),l=S+a*mathSin(P),u=o(x,l,n,a,r,0,s,M,X,[P,I,v,S])}F=P-k;var Y=mathCos(k),j=mathSin(k),Z=mathCos(P),L=mathSin(P),Q=math.tan(F/4),T=4/3*n*Q,_=4/3*a*Q,w=[t,e],z=[t+T*j,e-_*Y],A=[x+T*L,l-_*Z],H=[x,l];if(z[0]=2*w[0]-z[0],z[1]=2*w[1]-z[1],y)return[z,A,H][concat](u);u=[z,A,H][concat](u).join()[split](",");for(var O=[],V=0,B=u.length;V<B;V++)O[V]=V%2?b(u[V-1],u[V],f).y:b(u[V],u[V+1],f).x;return O}t.foo=e,Object.defineProperty(t,"__esModule",{value:!0})});